/**
 * Created by tintsing on 8/5/16.
 */


function showFootballDetails(gameID, teamName)
{
  var url = '/history/json/football/get_details/' + gameID
  $.ajax({
      url: url,
      type: 'GET',
      async: true,
      dataType: "json",
      success: function (data) {
          football_odd_layout(data);
      }
  });
  $('#team_name').html(teamName)
}

function football_odd_layout(data) {
  $('#panel-text').html(data['odd_win'])
  $('.board').each( function() {
    var values = [];
    var title;
    var mark = this.id;
    if (mark == 'win-panel') {
      values = data['odd_win'];
      title = mark
    } else if (mark == 'draw-panel') {
      values = data['odd_draw'];
      title = mark
    } else if (mark == 'lose-panel') {
      values = data['odd_lose'];
      title = mark
    } else if (mark == 'handicap-panel') {
      values = data['handicap'];
      title = '让球'
    } else if (mark == 'over_under-panel') {
      values = data['over_under'];
      title = '大小分'
    }
    $(this).highcharts({
      chart: {
        zoomType: 'x',
        resetZoomButton: {
          position: {
            x: 0,
            y: -30
          }
        },
        width: 500,
        height: 300,
      },
      title: {
        text: title.toUpperCase(),
        x: -15 //center
      },
      xAxis: {
        categories: data['x_names'],
        labels: {
          rotation: 60,
          step: 6
        },
        style: {
                   color: 'black',
                   fontSize: '8px',
                   fontWeight: 'bold',
                   fontFamily: 'Verdana, sans-serif'
        },
      },
      yAxis: {
        title: {
          text: $(this).id
        },
        plotLines: [{
          value: 0,
          width: 1,
          color: '#808080'
        }],
        min: 0,
      },
      tooltip: {
        formatter: function() {
            return '<b>时间: </b>' + this.point.options.dt +'<br/>' +
                '<b>博彩公司: </b>' + this.point.series.name +'<br/>' +
                '<b>数值: </b>' + this.point.options.y +'<br/>';
          }
      },
      series: values,
      noData: {
        style: {
          fontWeight: 'bold',
          fontSize: '15px',
          color: '#303030'
        }
      }
    });
  });
};
